<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ ì¡°ê° ì°¾ê¸° í”„ë¡œì íŠ¸: ìµœì¢… ì„±ì°° ë³´ê³ ì„œ</title>
    
    <!-- ìŠ¤íƒ€ì¼ ê¾¸ë¯¸ê¸° ë„êµ¬ (Tailwind CSS) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- ë¦¬ì•¡íŠ¸ ë„êµ¬ (React) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- ì½”ë“œ ë²ˆì—­ê¸° (Babel) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        body { font-family: 'Pretendard', sans-serif; }
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
        
        /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
        
        /* í”ë“¤ë¦¼ íš¨ê³¼ (ì…ë ¥ ì•ˆí–ˆì„ ë•Œ) */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
            20%, 40%, 60%, 80% { transform: translateX(4px); }
        }
        .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    </style>
</head>
<body class="bg-indigo-50 text-gray-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ìƒ‰ìƒ ë°ì´í„° (12ê°€ì§€) - ë¯¼íŠ¸ ì‚­ì œ, ë¸”ë™ ì¶”ê°€
        const COLOR_PALETTE = [
            { name: "ì—´ì •ì˜ ë¹¨ê°•", value: "#ef4444", text: "text-red-500", bg: "bg-red-50" },
            { name: "ì—ë„ˆì§€ ì£¼í™©", value: "#f97316", text: "text-orange-500", bg: "bg-orange-50" },
            { name: "ê¸ì •ì˜ ë…¸ë‘", value: "#eab308", text: "text-yellow-500", bg: "bg-yellow-50" },
            { name: "ì‹±ê·¸ëŸ¬ìš´ ì—°ë‘", value: "#84cc16", text: "text-lime-500", bg: "bg-lime-50" },
            { name: "ì„±ì‹¤í•œ ì´ˆë¡", value: "#22c55e", text: "text-green-500", bg: "bg-green-50" },
            { name: "ê°•ì¸í•œ ë¸”ë™", value: "#1f2937", text: "text-gray-900", bg: "bg-gray-100" }, 
            { name: "ììœ ë¡œìš´ í•˜ëŠ˜", value: "#0ea5e9", text: "text-sky-500", bg: "bg-sky-50" },
            { name: "ì§€í˜œë¡œìš´ íŒŒë‘", value: "#3b82f6", text: "text-blue-500", bg: "bg-blue-50" },
            { name: "ì‹ ë¹„í•œ ë‚¨ìƒ‰", value: "#6366f1", text: "text-indigo-500", bg: "bg-indigo-50" },
            { name: "ì°½ì˜ì  ë³´ë¼", value: "#a855f7", text: "text-purple-500", bg: "bg-purple-50" },
            { name: "ë”°ëœ»í•œ ë¶„í™", value: "#ec4899", text: "text-pink-500", bg: "bg-pink-50" },
            { name: "ì°¨ë¶„í•œ íšŒìƒ‰", value: "#6b7280", text: "text-gray-500", bg: "bg-gray-50" }
        ];

        // ì§ˆë¬¸ ì»´í¬ë„ŒíŠ¸
        const QuestionStep = ({ icon, title, description, question, name, value, onChange, onNext, onBack, placeholder, step, isLast, color = "blue", children, isError }) => {
            const colorClasses = {
                purple: "text-purple-500 border-purple-200 ring-purple-200 bg-purple-50/50",
                green: "text-green-500 border-green-200 ring-green-200 bg-green-50/50",
                pink: "text-pink-500 border-pink-200 ring-pink-200 bg-pink-50/50",
                indigo: "text-indigo-500 border-indigo-200 ring-indigo-200 bg-indigo-50/50",
                yellow: "text-yellow-500 border-yellow-200 ring-yellow-200 bg-yellow-50/50",
                blue: "text-blue-500 border-blue-200 ring-blue-200 bg-blue-50/50"
            };

            const focusColors = {
                purple: "focus:ring-purple-400 focus:border-purple-400",
                green: "focus:ring-green-400 focus:border-green-400",
                pink: "focus:ring-pink-400 focus:border-pink-400",
                indigo: "focus:ring-indigo-400 focus:border-indigo-400",
                yellow: "focus:ring-yellow-400 focus:border-yellow-400",
                blue: "focus:ring-blue-400 focus:border-blue-400"
            };

            const displayColorClass = colorClasses[color] || colorClasses.blue;
            const focusColorClass = focusColors[color] || focusColors.blue;

            return (
                <div className="flex flex-col h-full max-w-3xl mx-auto w-full animate-fade-in pb-10">
                    <div className="flex items-center gap-4 mb-6">
                        <div className={`bg-white p-4 rounded-2xl shadow-sm border border-gray-100 text-3xl`}>
                            {icon}
                        </div>
                        <div>
                            <h2 className="text-2xl font-bold text-gray-800">{title}</h2>
                            <p className="text-sm text-gray-500 mt-1 font-medium">ë‚˜ì˜ ìƒê°ì„ ììœ ë¡­ê²Œ ì ì–´ë³´ì„¸ìš”</p>
                        </div>
                    </div>

                    <div className="bg-white p-6 md:p-8 rounded-3xl shadow-lg border border-gray-100 mb-8 flex-1 flex flex-col">
                        <p className="text-gray-700 text-lg mb-6 leading-relaxed font-medium bg-gray-50 p-5 rounded-2xl border-l-4 border-gray-300 break-keep">
                            {description}
                        </p>

                        {/* ì¶”ê°€ ì»¨í…ì¸  ì˜ì—­ (ìƒ‰ìƒ ì„ íƒ ë“±) */}
                        {children}

                        <div className="flex-1 flex flex-col mt-4">
                            <label className="block text-gray-800 font-bold mb-4 text-xl leading-relaxed break-keep">
                                {question.split('_______________').map((part, i, arr) => (
                                    <React.Fragment key={i}>
                                        {part}
                                        {i < arr.length - 1 && (
                                            <span className={`inline-block border-b-2 px-2 mx-1 min-w-[80px] text-center bg-gray-50 rounded-t`}>
                                                (ë¹ˆì¹¸)
                                            </span>
                                        )}
                                    </React.Fragment>
                                ))}
                            </label>
                            
                            <textarea
                                name={name}
                                value={value}
                                onChange={onChange}
                                placeholder={placeholder}
                                className={`w-full p-6 border-2 rounded-2xl outline-none transition-all min-h-[300px] text-lg leading-loose shadow-inner resize-y ${displayColorClass.split(' ').slice(1).join(' ')} ${focusColorClass} ${isError && value.length === 0 ? 'border-red-500 ring-2 ring-red-200 animate-shake' : ''}`}
                            ></textarea>
                            <p className={`text-right text-sm mt-3 font-medium flex justify-end items-center gap-1 ${isError && value.length === 0 ? 'text-red-500 font-bold' : 'text-gray-400'}`}>
                                {isError && value.length === 0 ? 'âš ï¸ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!' : (value.length > 0 ? `âœ… ì‘ì„±ì¤‘... (${value.length}ì)` : 'ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”')}
                            </p>
                        </div>
                    </div>

                    <NavigationButtons onBack={onBack} onNext={onNext} isLast={isLast} color={color} />
                </div>
            );
        };

        const NavigationButtons = ({ onBack, onNext, isLast, color = "blue" }) => {
            const btnColors = {
                purple: "bg-purple-500 hover:bg-purple-600",
                green: "bg-green-500 hover:bg-green-600",
                pink: "bg-pink-500 hover:bg-pink-600",
                indigo: "bg-indigo-500 hover:bg-indigo-600",
                yellow: "bg-gradient-to-r from-yellow-400 to-orange-500 hover:shadow-orange-200",
                blue: "bg-blue-500 hover:bg-blue-600"
            };
            const btnColorClass = btnColors[color] || btnColors.blue;

            return (
                <div className="flex justify-between items-center mt-auto py-4 px-2">
                    <button
                        type="button"
                        onClick={onBack}
                        className="px-6 py-3 text-gray-500 hover:text-gray-800 font-bold rounded-full hover:bg-gray-200 transition-colors flex items-center gap-2"
                    >
                        ğŸ‘ˆ ì´ì „
                    </button>
                    <button
                        type="button"
                        onClick={onNext}
                        className={`px-10 py-3.5 rounded-full text-white font-bold shadow-lg shadow-gray-200 transition-all transform hover:-translate-y-1 active:scale-95 flex items-center gap-2 ${
                            isLast ? 'bg-gray-900 hover:bg-black text-lg' : btnColorClass
                        }`}
                    >
                        {isLast ? 'ì™„ì„±í•˜ê¸° âœ¨' : 'ë‹¤ìŒ ğŸ‘‰'}
                    </button>
                </div>
            );
        };

        function App() {
            const [step, setStep] = useState(0); 
            const [formData, setFormData] = useState({
                grade: '5',
                classNum: '',
                name: '',
                selectedColor: '', 
                selectedColorName: '', 
                selfDiscovery: '',
                feeling: '',
                classChange: '',
                role: '',
                shout: '',
                worldChange: '',
                resolution: ''
            });
            const [image, setImage] = useState(null);
            const [copied, setCopied] = useState(false);
            const [shakeInput, setShakeInput] = useState(false);
            
            const reportRef = useRef(null);

            useEffect(() => {
                window.scrollTo(0, 0);
            }, [step]);

            // ì…ë ¥ê°’ ê²€ì¦ í•¨ìˆ˜
            const validateStep = (currentStep) => {
                switch(currentStep) {
                    case 0: return formData.grade && formData.classNum && formData.name;
                    case 1: return formData.selfDiscovery.trim().length > 0 && formData.selectedColorName !== ''; 
                    case 2: return formData.feeling.trim().length > 0 && formData.classChange.trim().length > 0;
                    case 3: return formData.role.trim().length > 0;
                    case 4: return formData.shout.trim().length > 0 && formData.worldChange.trim().length > 0;
                    case 5: return formData.resolution.trim().length > 0;
                    default: return true;
                }
            };

            const handleNext = () => {
                if (!validateStep(step)) {
                    setShakeInput(true);
                    setTimeout(() => setShakeInput(false), 500);
                    return; 
                }
                setStep((prev) => prev + 1);
            };

            const handleBack = () => setStep((prev) => prev - 1);
            
            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData((prev) => ({ ...prev, [name]: value }));
            };

            const handleColorSelect = (color) => {
                setFormData((prev) => ({
                    ...prev,
                    selectedColor: color.value,
                    selectedColorName: color.name
                }));
            };

            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setImage(reader.result);
                    };
                    reader.readAsDataURL(file);
                }
            };

            const handleTestMode = () => {
                setFormData({
                    grade: '5',
                    classNum: '1',
                    name: 'ê¹€ì„±ì¥',
                    selectedColor: '#ef4444',
                    selectedColorName: 'ì—´ì •ì˜ ë¹¨ê°•',
                    selfDiscovery: 'ëˆê¸° ìˆê²Œ ë…¸ë ¥í•˜ëŠ” ì‚¬ëŒ',
                    feeling: 'ë”°ëœ»í•´ì§€ê³  ë” ì¹œí•´ì§„ ëŠë‚Œì´ ë“¤ì—ˆìŠµë‹ˆë‹¤',
                    classChange: 'ì„œë¡œë¥¼ ì•„ë¼ê³  ì‘ì›í•˜ëŠ” ë©‹ì§„ ìš°ë¦¬ ë°˜',
                    role: 'ì¹œêµ¬ë“¤ì˜ ì´ì•¼ê¸°ë¥¼ ì˜ ë“¤ì–´ì£¼ëŠ” ìƒë‹´ì‚¬',
                    shout: 'ë„ˆëŠ” í˜¼ìê°€ ì•„ë‹ˆì•¼, ìš°ë¦¬ê°€ ìˆì–ì•„!',
                    worldChange: 'ì„œë¡œ ë•ê³  ì‚¬ë‘í•˜ëŠ” í‰í™”ë¡œìš´ ì„¸ìƒ',
                    resolution: 'ë§¤ì¼ ì¹œêµ¬ë“¤ì—ê²Œ ë”°ëœ»í•œ ë§ í•œë§ˆë””ë¥¼ ê±´ë„¤ê² ìŠµë‹ˆë‹¤'
                });
                setImage("https://cdn-icons-png.flaticon.com/512/3135/3135715.png"); 
                setStep(6);
            };

            // ê°•ë ¥í•œ ë³µì‚¬ ê¸°ëŠ¥ (ì´ë¯¸ì§€ + ì„œì‹)
            const handleCopy = async () => {
                if (!reportRef.current) return;

                try {
                    // ìµœì‹  Clipboard API ì‚¬ìš© (ì´ë¯¸ì§€ í¬í•¨ ë³µì‚¬ì— ìœ ë¦¬)
                    const content = reportRef.current.innerHTML;
                    
                    // ì„œì‹ ë³´ì¡´ì„ ìœ„í•œ HTML ë˜í¼
                    const fullHtml = `
                        <!DOCTYPE html>
                        <html>
                        <body style="font-family: sans-serif; background-color: white;">
                            ${content}
                        </body>
                        </html>
                    `;
                    
                    const blobHtml = new Blob([fullHtml], { type: 'text/html' });
                    const blobText = new Blob([reportRef.current.innerText], { type: 'text/plain' });
                    
                    // ClipboardItem ìƒì„± (ì§€ì›í•˜ëŠ” ë¸Œë¼ìš°ì €ìš©)
                    if (typeof ClipboardItem !== "undefined") {
                        const data = [new ClipboardItem({
                            ["text/html"]: blobHtml,
                            ["text/plain"]: blobText
                        })];
                        await navigator.clipboard.write(data);
                        setCopied(true);
                        setTimeout(() => setCopied(false), 2000);
                        return;
                    }
                    throw new Error("ClipboardItem not supported");

                } catch (err) {
                    // Fallback: ê¸°ì¡´ execCommand ë°©ì‹
                    console.log("Fallback to execCommand", err);
                    const selection = window.getSelection();
                    const range = document.createRange();
                    selection.removeAllRanges();
                    range.selectNodeContents(reportRef.current);
                    selection.addRange(range);
                    
                    const successful = document.execCommand('copy');
                    selection.removeAllRanges();
                    
                    if(successful) {
                        setCopied(true);
                        setTimeout(() => setCopied(false), 2000);
                    } else {
                        alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë§ˆìš°ìŠ¤ë¡œ ë‚´ìš©ì„ ë“œë˜ê·¸í•´ì„œ ë³µì‚¬(Ctrl+C)í•´ì£¼ì„¸ìš”.');
                    }
                }
            };

            const renderContent = () => {
                switch (step) {
                    case 0:
                        return (
                            <div className="flex flex-col items-center justify-center min-h-[90vh] text-center p-6 space-y-6 animate-fade-in relative max-w-lg mx-auto">
                                <button 
                                    type="button"
                                    onClick={handleTestMode}
                                    className="absolute top-0 right-0 m-2 text-xs bg-gray-100 text-gray-500 px-3 py-1 rounded-full hover:bg-gray-200 hover:text-gray-700 flex items-center gap-1 transition-colors"
                                    title="ì˜ˆì‹œ ë‚´ìš©ìœ¼ë¡œ ë°”ë¡œ ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤."
                                >
                                    ğŸ§ª í…ŒìŠ¤íŠ¸
                                </button>

                                <div className="space-y-4">
                                    <div className="bg-white p-6 rounded-full inline-block shadow-md mb-2">
                                        <div className="text-6xl animate-bounce">ğŸŒŸ</div>
                                    </div>
                                    <h1 className="text-3xl font-bold text-gray-800 break-keep leading-tight">
                                        ë‚˜ì˜ ì¡°ê° ì°¾ê¸° í”„ë¡œì íŠ¸:<br />
                                        <span className="text-blue-600">ìµœì¢… ì„±ì°°</span>
                                    </h1>
                                    <p className="text-gray-600 mb-4">
                                        ì§ˆë¬¸ì— ë‹µì„ í•˜ë©´<br/> 
                                        <strong>'ë‚˜ë§Œì˜ ì„±ì¥ ì´ì•¼ê¸°'</strong>ê°€ ì™„ì„±ë©ë‹ˆë‹¤!
                                    </p>
                                </div>

                                <div className={`bg-white p-6 rounded-2xl shadow-lg w-full border-2 transition-all ${shakeInput ? 'border-red-400 animate-shake' : 'border-blue-100'}`}>
                                    <h3 className="text-lg font-bold text-gray-700 mb-4 text-left flex items-center gap-2">
                                        <span>ğŸ“</span> ë¨¼ì € ì´ë¦„ì„ ì ì–´ì£¼ì„¸ìš”
                                    </h3>
                                    <div className="flex gap-2 mb-4">
                                        <div className="w-1/3">
                                            <label className="block text-xs text-gray-500 mb-1 font-bold">í•™ë…„</label>
                                            <input 
                                                type="number" 
                                                name="grade"
                                                value={formData.grade}
                                                onChange={handleChange}
                                                className={`w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-center focus:ring-2 focus:ring-blue-400 outline-none font-bold text-lg ${shakeInput && !formData.grade ? 'border-red-500 bg-red-50' : ''}`}
                                            />
                                        </div>
                                        <div className="w-1/3">
                                            <label className="block text-xs text-gray-500 mb-1 font-bold">ë°˜</label>
                                            <input 
                                                type="number" 
                                                name="classNum"
                                                value={formData.classNum}
                                                onChange={handleChange}
                                                placeholder="ë°˜"
                                                className={`w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-center focus:ring-2 focus:ring-blue-400 outline-none font-bold text-lg ${shakeInput && !formData.classNum ? 'border-red-500 bg-red-50' : ''}`}
                                            />
                                        </div>
                                        <div className="w-full">
                                            <label className="block text-xs text-gray-500 mb-1 font-bold">ì´ë¦„</label>
                                            <input 
                                                type="text" 
                                                name="name"
                                                value={formData.name}
                                                onChange={handleChange}
                                                placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                                                className={`w-full p-3 bg-gray-50 border border-gray-200 rounded-xl text-center focus:ring-2 focus:ring-blue-400 outline-none font-bold text-lg ${shakeInput && !formData.name ? 'border-red-500 bg-red-50' : ''}`}
                                            />
                                        </div>
                                    </div>

                                    {/* ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„¹ì…˜ (ì²« í˜ì´ì§€ë¡œ ì´ë™) */}
                                    <div className="p-4 bg-indigo-50 rounded-xl border-2 border-dashed border-indigo-200 text-center">
                                        <label className="block cursor-pointer hover:bg-indigo-100 transition-colors rounded-lg p-2">
                                            <div className="flex flex-col items-center justify-center gap-2">
                                                <span className="text-3xl">ğŸ“¸</span>
                                                <span className="text-indigo-700 font-bold">ë‚˜ì˜ ì¡°ê° ì‚¬ì§„ ì˜¬ë¦¬ê¸°</span>
                                                <span className="text-xs text-indigo-400"></span>
                                            </div>
                                            <input 
                                                type="file" 
                                                accept="image/*" 
                                                onChange={handleImageUpload} 
                                                className="hidden" 
                                            />
                                        </label>
                                        {image && (
                                            <div className="mt-4 relative inline-block">
                                                <img src={image} alt="Preview" className="h-40 object-contain rounded-lg shadow-md border border-white" />
                                                <button 
                                                    type="button"
                                                    onClick={() => setImage(null)}
                                                    className="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-sm hover:bg-red-600"
                                                >
                                                    âœ•
                                                </button>
                                            </div>
                                        )}
                                    </div>

                                    {shakeInput && <p className="text-red-500 text-sm font-bold text-right mt-2">ë°˜ê³¼ ì´ë¦„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”! ğŸ˜…</p>}
                                </div>

                                <button
                                    type="button"
                                    onClick={handleNext}
                                    className="w-full py-4 bg-blue-600 text-white rounded-xl text-xl font-bold shadow-lg hover:bg-blue-700 hover:shadow-xl transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2"
                                >
                                    ì‹œì‘í•˜ê¸° ğŸ‘‰
                                </button>
                            </div>
                        );

                    case 1:
                        return (
                            <QuestionStep
                                icon="ğŸ“–"
                                color="purple"
                                title="1ë‹¨ê³„: ìê¸° ì´í•´"
                                description="ë‚˜ì˜ ì§„ì •í•œ ìƒ‰ê¹”ì€ ë¬´ì—‡ì¸ê°€ìš”? ì¡°ê°ì„ ë§Œë“¤ë©´ì„œ ì•Œê²Œ ëœ ë‚˜ì˜ ì¥ì ì´ë‚˜ ì„±ê²©ì€ ë¬´ì—‡ì¸ê°€ìš”?"
                                question="ì €ëŠ” ì œê°€ _______________ ë¼ëŠ” ê²ƒì„ ìƒˆë¡­ê²Œ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤."
                                name="selfDiscovery"
                                value={formData.selfDiscovery}
                                onChange={handleChange}
                                onNext={handleNext}
                                onBack={handleBack}
                                placeholder="ì˜ˆ: ê¼¼ê¼¼í•˜ê²Œ ë¬´ì–¸ê°€ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤. ì¹œêµ¬ì˜ ì´ì•¼ê¸°ë¥¼ ì˜ ë“¤ì–´ì£¼ëŠ” ë”°ëœ»í•œ ë§ˆìŒì„ ê°€ì¡Œë‹¤"
                                step={step}
                                isError={shakeInput}
                            >
                                {/* ìƒ‰ìƒ ì„ íƒ íŒ”ë ˆíŠ¸ */}
                                <div className={`mb-6 p-5 bg-white rounded-xl border-2 ${shakeInput && !formData.selectedColorName ? 'border-red-400 animate-shake' : 'border-gray-100'} shadow-sm`}>
                                    <label className="block text-gray-700 font-bold mb-3 flex items-center gap-2">
                                        ğŸ¨ ë‚˜ë¥¼ í‘œí˜„í•˜ëŠ” ìƒ‰ê¹”ì„ ê³¨ë¼ë³´ì„¸ìš”
                                        {formData.selectedColorName && <span className="text-sm font-normal text-purple-600 bg-purple-50 px-2 py-1 rounded-lg">ì„ íƒ: {formData.selectedColorName}</span>}
                                    </label>
                                    <div className="grid grid-cols-4 sm:grid-cols-6 gap-3">
                                        {COLOR_PALETTE.map((c) => (
                                            <button
                                                key={c.value}
                                                type="button"
                                                onClick={() => handleColorSelect(c)}
                                                className={`w-full aspect-square rounded-full shadow-sm flex items-center justify-center transition-all transform hover:scale-110 ${formData.selectedColor === c.value ? 'ring-4 ring-offset-2 ring-purple-400 scale-110' : ''}`}
                                                style={{ backgroundColor: c.value }}
                                                title={c.name}
                                            >
                                                {formData.selectedColor === c.value && <span className="text-white text-lg drop-shadow-md">âœ”</span>}
                                            </button>
                                        ))}
                                    </div>
                                    {shakeInput && !formData.selectedColorName && <p className="text-red-500 text-sm mt-2 text-right font-bold">ìƒ‰ê¹”ë„ ê¼­ ì„ íƒí•´ì£¼ì„¸ìš”! ğŸ¨</p>}
                                </div>
                            </QuestionStep>
                        );

                    case 2:
                        return (
                            <div className="flex flex-col h-full max-w-3xl mx-auto w-full p-4 animate-fade-in pb-10">
                                <div className="flex items-center gap-3 mb-6">
                                    <div className="bg-pink-100 p-3 rounded-xl text-3xl">
                                        ğŸ’–
                                    </div>
                                    <h2 className="text-2xl font-bold text-gray-800">2ë‹¨ê³„: ê´€ê³„</h2>
                                </div>
                                
                                <div className="flex-1 flex flex-col space-y-8 overflow-y-auto pb-4 custom-scrollbar">
                                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 transition-all focus-within:ring-2 focus-within:ring-pink-200 flex flex-col">
                                        <label className="block text-gray-700 font-bold mb-3 text-lg">
                                            Q1. ì¹œêµ¬ë“¤ì—ê²Œ ê¸ì •ì ì¸ ëŒ“ê¸€ì„ ë‹¬ì•„ì£¼ì—ˆì„ ë•Œ, ì œ ë§ˆìŒì€ ì–´ë• ë‚˜ìš”?
                                        </label>
                                        <textarea
                                            name="feeling"
                                            value={formData.feeling}
                                            onChange={handleChange}
                                            placeholder="ì˜ˆ: ë¿Œë“¯í•˜ê³  ë”°ëœ»"
                                            className={`w-full p-4 border-2 rounded-xl outline-none transition-all min-h-[150px] resize-y text-lg bg-pink-50/30 leading-relaxed focus:border-pink-400 ${shakeInput && !formData.feeling ? 'border-red-500 ring-2 ring-red-200 animate-shake' : 'border-gray-200'}`}
                                        ></textarea>
                                        <p className="text-gray-400 text-sm mt-2 text-right">... í–ˆìŠµë‹ˆë‹¤.</p>
                                    </div>

                                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 transition-all focus-within:ring-2 focus-within:ring-pink-200 flex flex-col">
                                        <label className="block text-gray-700 font-bold mb-3 text-lg">
                                            Q2. ì´ëŸ° í–‰ë™ë“¤ì´ ëª¨ì—¬ ìš°ë¦¬ ë°˜ì€ ì–´ë–»ê²Œ ë³€í• ê¹Œìš”?
                                        </label>
                                        <textarea
                                            name="classChange"
                                            value={formData.classChange}
                                            onChange={handleChange}
                                            placeholder="ì˜ˆ: ì„œë¡œë¥¼ ë” ë¯¿ê³  ì‘ì›í•˜ëŠ” ì‚¬ì´"
                                            className={`w-full p-4 border-2 rounded-xl outline-none transition-all min-h-[150px] resize-y text-lg bg-pink-50/30 leading-relaxed focus:border-pink-400 ${shakeInput && !formData.classChange ? 'border-red-500 ring-2 ring-red-200 animate-shake' : 'border-gray-200'}`}
                                        ></textarea>
                                        <p className="text-gray-400 text-sm mt-2 text-right">... ìœ¼ë¡œ(ê²Œ) ë³€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                                    </div>
                                    {shakeInput && (
                                        <p className="text-center text-red-500 font-bold animate-shake">âš ï¸ ëª¨ë“  ì§ˆë¬¸ì— ë‹µì„ í•´ì£¼ì„¸ìš”!</p>
                                    )}
                                </div>

                                <NavigationButtons onBack={handleBack} onNext={handleNext} color="pink" />
                            </div>
                        );

                    case 3:
                        return (
                            <QuestionStep
                                icon="ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦"
                                color="green"
                                title="3ë‹¨ê³„: ê³µë™ì²´"
                                description="ìš°ë¦¬ ë°˜ì´ë¼ëŠ” í° ê·¸ë¦¼ ì†ì—ì„œ, ë‚˜ì˜ ì¥ì ìœ¼ë¡œ ì¹œêµ¬ë“¤ì—ê²Œ ì–´ë–¤ ë„ì›€ì„ ì¤„ ìˆ˜ ìˆì„ê¹Œìš”?"
                                question="ìš°ë¦¬ ë°˜ì´ í•˜ë‚˜ì˜ ë©‹ì§„ ì‘í’ˆì´ë¼ë©´, ì €ëŠ” ê·¸ ì•ˆì—ì„œ _______________ ì—­í• ì„ í•˜ì—¬ ì¹œêµ¬ë“¤ì—ê²Œ ë„ì›€ì„ ì£¼ê³  ì‹¶ìŠµë‹ˆë‹¤."
                                name="role"
                                value={formData.role}
                                onChange={handleChange}
                                onNext={handleNext}
                                onBack={handleBack}
                                placeholder="ì˜ˆ: í˜ë“¤ì–´í•˜ëŠ” ì¹œêµ¬ë¥¼ ìœ„ë¡œí•´ì£¼ëŠ” ë¹„íƒ€ë¯¼ ê°™ì€, ë¬µë¬µíˆ ì²­ì†Œë¥¼ ë•ëŠ” ê¸°ë‘¥ ê°™ì€"
                                step={step}
                                isError={shakeInput}
                            />
                        );

                    case 4:
                        return (
                            <div className="flex flex-col h-full max-w-3xl mx-auto w-full p-4 animate-fade-in pb-10">
                                <div className="flex items-center gap-3 mb-6">
                                    <div className="bg-indigo-100 p-3 rounded-xl text-3xl">
                                        ğŸŒ
                                    </div>
                                    <h2 className="text-2xl font-bold text-gray-800">4ë‹¨ê³„: ì„±ì¥ ì˜ì§€</h2>
                                </div>
                                
                                <div className="flex-1 flex flex-col space-y-8 overflow-y-auto pb-4 custom-scrollbar">
                                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 transition-all focus-within:ring-2 focus-within:ring-indigo-200 flex flex-col">
                                        <label className="block text-gray-700 font-bold mb-3 text-lg">
                                            Q1. ë§Œì•½ ì œ ì¡°ê°ì´ ë§ì„ í•  ìˆ˜ ìˆë‹¤ë©´, ì„¸ìƒì— ë­ë¼ê³  ì™¸ì¹˜ê³  ì‹¶ë‚˜ìš”?
                                        </label>
                                        <textarea
                                            name="shout"
                                            value={formData.shout}
                                            onChange={handleChange}
                                            placeholder="ì˜ˆ: ë„ˆëŠ” ê·¸ ìì²´ë¡œ ì†Œì¤‘í•´!, ì‹¤íŒ¨í•´ë„ ê´œì°®ì•„ ë‹¤ì‹œ ì‹œì‘í•˜ë©´ ë¼!"
                                            className={`w-full p-4 border-2 rounded-xl outline-none transition-all min-h-[150px] resize-y text-lg bg-indigo-50/30 leading-relaxed focus:border-indigo-400 ${shakeInput && !formData.shout ? 'border-red-500 ring-2 ring-red-200 animate-shake' : 'border-gray-200'}`}
                                        ></textarea>
                                        <p className="text-gray-400 text-sm mt-2 text-right">... ë¼ê³  ì™¸ì¹˜ê³  ì‹¶ìŠµë‹ˆë‹¤.</p>
                                    </div>

                                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 transition-all focus-within:ring-2 focus-within:ring-indigo-200 flex flex-col">
                                        <label className="block text-gray-700 font-bold mb-3 text-lg">
                                            Q2. ê·¸ëŸ¬ë©´ ì„¸ìƒì€ ì–´ë–»ê²Œ ë°”ë€”ê¹Œìš”?
                                        </label>
                                        <textarea
                                            name="worldChange"
                                            value={formData.worldChange}
                                            onChange={handleChange}
                                            placeholder="ì˜ˆ: ëª¨ë‘ê°€ ì›ƒìŒê½ƒì´ í”¼ëŠ” í‰í™”ë¡œìš´ ê³³"
                                            className={`w-full p-4 border-2 rounded-xl outline-none transition-all min-h-[150px] resize-y text-lg bg-indigo-50/30 leading-relaxed focus:border-indigo-400 ${shakeInput && !formData.worldChange ? 'border-red-500 ring-2 ring-red-200 animate-shake' : 'border-gray-200'}`}
                                        ></textarea>
                                        <p className="text-gray-400 text-sm mt-2 text-right">... ì²˜ëŸ¼ ë©‹ì§€ê²Œ ë°”ë€” ê²ƒì…ë‹ˆë‹¤.</p>
                                    </div>
                                    {shakeInput && (
                                        <p className="text-center text-red-500 font-bold animate-shake">âš ï¸ ëª¨ë“  ì§ˆë¬¸ì— ë‹µì„ í•´ì£¼ì„¸ìš”!</p>
                                    )}
                                </div>

                                <NavigationButtons onBack={handleBack} onNext={handleNext} color="indigo" />
                            </div>
                        );

                    case 5:
                        return (
                            <QuestionStep
                                icon="â­"
                                color="yellow"
                                title="ë§ˆì§€ë§‰: ë‚˜ì˜ ë‹¤ì§"
                                description="ë‚˜ì˜ ì‘ì€ ì¡°ê°ë„ í° í˜ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì•ìœ¼ë¡œ ë°œê²¬í•œ ê¸ì •ì˜ í˜ì„ ì–´ë–»ê²Œ ì‹¤ì²œí• ê¹Œìš”?"
                                question="ì•ìœ¼ë¡œ ì €ëŠ” ì œê°€ ë°œê²¬í•œ ê¸ì •ì˜ í˜ì„ _______________ ."
                                name="resolution"
                                value={formData.resolution}
                                onChange={handleChange}
                                onNext={handleNext}
                                onBack={handleBack}
                                placeholder="ì˜ˆ: ì¹œêµ¬ê°€ í˜ë“¤ ë•Œ ê°€ì¥ ë¨¼ì € ë‹¬ë ¤ê°€ ìœ„ë¡œí•˜ê³  ë§¤ì¼ ë‚˜ ìì‹ ì„ ì¹­ì°¬í•˜ê² ìŠµë‹ˆë‹¤."
                                step={step}
                                isLast={true}
                                isError={shakeInput}
                            />
                        );

                    case 6:
                        return (
                            <div className="flex flex-col h-full max-w-3xl mx-auto w-full p-4 animate-fade-in">
                                <div className="flex items-center justify-between mb-4 print:hidden">
                                    <h2 className="text-2xl font-bold text-gray-800 flex items-center gap-2">
                                        ğŸ“„ ìµœì¢… ì„±ì°° ë³´ê³ ì„œ ë¯¸ë¦¬ ë³´ê¸°
                                    </h2>
                                    <div className="flex gap-2">
                                        {/* ìˆ˜ì •í•˜ê¸° (ì´ì „) ë²„íŠ¼ ì¶”ê°€ */}
                                        <button
                                            type="button"
                                            onClick={() => setStep(prev => prev - 1)} // ë°”ë¡œ ì´ì „ ë‹¨ê³„(5ë‹¨ê³„)ë¡œ ì´ë™
                                            className="text-indigo-600 hover:text-indigo-800 flex items-center gap-1 text-sm bg-indigo-50 px-3 py-2 rounded-lg hover:bg-indigo-100 transition-colors font-bold border border-indigo-200"
                                        >
                                            âœï¸ ìˆ˜ì •í•˜ê¸° (ì´ì „)
                                        </button>
                                        <button
                                            type="button"
                                            onClick={() => {
                                                setStep(0);
                                                setFormData(prev => ({
                                                    ...prev,
                                                    selfDiscovery: '', feeling: '', classChange: '', role: '', shout: '', worldChange: '', resolution: ''
                                                }));
                                                setImage(null); 
                                            }}
                                            className="text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm bg-gray-100 px-3 py-2 rounded-lg hover:bg-gray-200 transition-colors"
                                        >
                                            ğŸ”„ ì²˜ìŒìœ¼ë¡œ
                                        </button>
                                    </div>
                                </div>

                                {/* ë³´ê³ ì„œ ì˜ì—­ (ë³µì‚¬ ëŒ€ìƒ) - 1ì¥ ì¸ì‡„ ìµœì í™” */}
                                <div ref={reportRef} className="bg-white rounded-xl shadow-xl border border-gray-200 p-6 flex-1 overflow-y-auto custom-scrollbar relative mx-auto w-full max-w-2xl select-text">
                                    <div className="absolute top-0 left-0 w-full h-4 bg-gradient-to-b from-gray-50 to-transparent"></div>
                                    <div className="absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-gray-100 to-transparent rounded-bl-3xl opacity-50 pointer-events-none"></div>
                                    
                                    {/* í•™ìƒ ì •ë³´ í—¤ë” */}
                                    <div style={{textAlign: 'right', borderBottom: '2px solid #f3f4f6', paddingBottom: '10px', marginBottom: '10px', fontFamily: 'sans-serif', color: '#6b7280'}}>
                                        <span style={{marginRight: '8px', color: '#1f2937', fontWeight: 'bold'}}>{formData.grade || '5'}í•™ë…„</span>
                                        <span style={{marginRight: '8px', color: '#1f2937', fontWeight: 'bold'}}>{formData.classNum || '_'}ë°˜</span>
                                        <span>ì´ë¦„: <strong style={{color: '#2563eb', textDecoration: 'underline', textUnderlineOffset: '4px', fontSize: '1.125rem'}}>{formData.name || '______'}</strong></span>
                                    </div>

                                    <h1 style={{fontSize: '1.5rem', fontWeight: 'bold', textAlign: 'center', color: '#1f2937', marginBottom: '15px', paddingBottom: '10px', borderBottom: '4px double #e5e7eb'}}>
                                        ë‚˜ì˜ ì†Œì¤‘í•œ ì¡°ê°ì„ ì°¾ì•„ì„œ
                                    </h1>

                                    {/* ì—…ë¡œë“œëœ ì´ë¯¸ì§€ í‘œì‹œ ì˜ì—­ (í¬ê¸° ì¶•ì†Œ ë° ê°€ìš´ë° ì •ë ¬ ìˆ˜ì •) */}
                                    {image && (
                                        <div style={{marginBottom: '20px', textAlign: 'center'}}>
                                            <img src={image} alt="ë‚˜ì˜ ì¡°ê°" style={{display: 'block', margin: '0 auto', maxWidth: '100%', maxHeight: '160px', objectFit: 'contain', borderRadius: '0.5rem', boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)', border: '4px solid white'}} />
                                            <p style={{fontSize: '0.75rem', color: '#9ca3af', marginTop: '4px'}}>â–² ë‚˜ì˜ ì†Œì¤‘í•œ ì¡°ê°</p>
                                        </div>
                                    )}

                                    <div style={{fontSize: '0.95rem', lineHeight: '1.6', color: '#374151', display: 'flex', flexDirection: 'column', gap: '12px'}}>
                                        <section>
                                            <h3 style={{fontWeight: 'bold', color: '#2563eb', marginBottom: '4px', display: 'flex', alignItems: 'center', gap: '8px', fontSize: '0.9rem', textTransform: 'uppercase', letterSpacing: '0.05em'}}>
                                                <span style={{backgroundColor: '#dbeafe', padding: '2px 8px', borderRadius: '0.25rem', fontSize: '0.8rem'}}>Chapter 1</span> ë‚˜ë¥¼ ê¹¨ë‹«ë‹¤
                                            </h3>
                                            <p style={{backgroundColor: 'rgba(239, 246, 255, 0.5)', padding: '10px', borderRadius: '0.5rem', borderLeft: '4px solid #bfdbfe'}}>
                                                ì €ëŠ” ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ì €ì˜ ì¡°ê°ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì œ ì¡°ê°ì€ <strong style={{color: formData.selectedColor || '#ef4444', backgroundColor: 'white', padding: '1px 6px', borderRadius: '4px', border: '1px solid #e5e7eb'}}>{formData.selectedColorName || '___'}</strong>ì´ë©°, ì¡°ê°ì„ ë§Œë“¤ë©° ì €ëŠ” ì œê°€ <span style={{fontWeight: 'bold', color: '#1d4ed8', backgroundColor: '#dbeafe', padding: '0 4px', borderRadius: '0.25rem'}}>{formData.selfDiscovery || '___'}</span>ì´ë¼ëŠ” ê²ƒì„ ìƒˆë¡­ê²Œ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
                                            </p>
                                        </section>

                                        <section>
                                            <h3 style={{fontWeight: 'bold', color: '#db2777', marginBottom: '4px', display: 'flex', alignItems: 'center', gap: '8px', fontSize: '0.9rem', textTransform: 'uppercase', letterSpacing: '0.05em'}}>
                                                <span style={{backgroundColor: '#fce7f3', padding: '2px 8px', borderRadius: '0.25rem', fontSize: '0.8rem'}}>Chapter 2</span> í•¨ê»˜í•˜ëŠ” ê¸°ì¨
                                            </h3>
                                            <p style={{backgroundColor: 'rgba(253, 242, 248, 0.5)', padding: '10px', borderRadius: '0.5rem', borderLeft: '4px solid #fbcfe8'}}>
                                                ì¹œêµ¬ë“¤ì˜ ì¡°ê°ì— ê¸ì •ì ì¸ ëŒ“ê¸€ì„ ë‹¬ì•„ì£¼ì—ˆì„ ë•Œ, ì œ ë§ˆìŒì€ <span style={{fontWeight: 'bold', color: '#be185d', backgroundColor: '#fce7f3', padding: '0 4px', borderRadius: '0.25rem'}}>{formData.feeling || '___'}</span>. ê·¸ë¦¬ê³  ì´ëŸ° í–‰ë™ë“¤ì´ ëª¨ì—¬ ìš°ë¦¬ ë°˜ì€ <span style={{fontWeight: 'bold', color: '#be185d', backgroundColor: '#fce7f3', padding: '0 4px', borderRadius: '0.25rem'}}>{formData.classChange || '___'}</span>ê²Œ ë³€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                            </p>
                                        </section>

                                        <section>
                                            <h3 style={{fontWeight: 'bold', color: '#16a34a', marginBottom: '4px', display: 'flex', alignItems: 'center', gap: '8px', fontSize: '0.9rem', textTransform: 'uppercase', letterSpacing: '0.05em'}}>
                                                <span style={{backgroundColor: '#dcfce7', padding: '2px 8px', borderRadius: '0.25rem', fontSize: '0.8rem'}}>Chapter 3</span> ìš°ë¦¬ ë°˜ì˜ ì†Œì¤‘í•œ ì—­í• 
                                            </h3>
                                            <p style={{backgroundColor: 'rgba(240, 253, 244, 0.5)', padding: '10px', borderRadius: '0.5rem', borderLeft: '4px solid #bbf7d0'}}>
                                                ìš°ë¦¬ ë°˜ì´ í•˜ë‚˜ì˜ ë©‹ì§„ ì‘í’ˆì´ë¼ë©´, ì €ëŠ” ê·¸ ì•ˆì—ì„œ <span style={{fontWeight: 'bold', color: '#15803d', backgroundColor: '#dcfce7', padding: '0 4px', borderRadius: '0.25rem'}}>{formData.role || '___'}</span> ì—­í• ì„ í•˜ì—¬ ì¹œêµ¬ë“¤ì—ê²Œ ë„ì›€ì„ ì£¼ê³  ì‹¶ìŠµë‹ˆë‹¤.
                                            </p>
                                        </section>

                                        <section>
                                            <h3 style={{fontWeight: 'bold', color: '#4f46e5', marginBottom: '4px', display: 'flex', alignItems: 'center', gap: '8px', fontSize: '0.9rem', textTransform: 'uppercase', letterSpacing: '0.05em'}}>
                                                <span style={{backgroundColor: '#e0e7ff', padding: '2px 8px', borderRadius: '0.25rem', fontSize: '0.8rem'}}>Chapter 4</span> ì„¸ìƒì— ì™¸ì¹˜ëŠ” í•œë§ˆë””
                                            </h3>
                                            <p style={{backgroundColor: 'rgba(238, 242, 255, 0.5)', padding: '10px', borderRadius: '0.5rem', borderLeft: '4px solid #c7d2fe'}}>
                                                ë§Œì•½ ì œ ì¡°ê°ì´ ì˜¨ ì„¸ìƒì— ë§ì„ í•  ìˆ˜ ìˆë‹¤ë©´, ì €ëŠ” í° ì†Œë¦¬ë¡œ "<span style={{fontWeight: 'bold', color: '#4338ca', backgroundColor: '#e0e7ff', padding: '0 4px', borderRadius: '0.25rem'}}>{formData.shout || '___'}</span>"ë¼ê³  ì™¸ì¹˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì„¸ìƒì€ <span style={{fontWeight: 'bold', color: '#4338ca', backgroundColor: '#e0e7ff', padding: '0 4px', borderRadius: '0.25rem'}}>{formData.worldChange || '___'}</span>ì²˜ëŸ¼ ë©‹ì§€ê²Œ ë°”ë€” ê²ƒì…ë‹ˆë‹¤.
                                            </p>
                                        </section>

                                        <section>
                                            <h3 style={{fontWeight: 'bold', color: '#ca8a04', marginBottom: '4px', display: 'flex', alignItems: 'center', gap: '8px', fontSize: '0.9rem', textTransform: 'uppercase', letterSpacing: '0.05em'}}>
                                                <span style={{backgroundColor: '#fef9c3', padding: '2px 8px', borderRadius: '0.25rem', fontSize: '0.8rem'}}>Chapter 5</span> ë‚˜ì˜ ë‹¤ì§
                                            </h3>
                                            <p style={{backgroundColor: 'rgba(254, 252, 232, 0.5)', padding: '10px', borderRadius: '0.5rem', borderLeft: '4px solid #fde047'}}>
                                                ì´ í™œë™ì„ í†µí•´ ì €ëŠ” 'ë‚˜ì˜ ì‘ì€ ì¡°ê°ë„ í° í˜ì„ ê°€ì§€ê³  ìˆë‹¤'ëŠ” ê²ƒì„ ë°°ì› ìŠµë‹ˆë‹¤. ì•ìœ¼ë¡œ ì €ëŠ” ì œê°€ ë°œê²¬í•œ ê¸ì •ì˜ í˜ì„ <span style={{fontWeight: 'bold', color: '#a16207', backgroundColor: '#fef9c3', padding: '0 4px', borderRadius: '0.25rem'}}>{formData.resolution || '___'}</span>.
                                            </p>
                                        </section>
                                    </div>
                                    
                                    <div style={{marginTop: '24px', paddingTop: '12px', borderTop: '1px solid #e5e7eb', textAlign: 'center', color: '#9ca3af', fontSize: '0.8rem', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px'}}>
                                        âœ¨ My Wonderful Growth Story âœ¨
                                    </div>
                                </div>

                                <div className="mt-6 flex justify-center gap-4 print:hidden">
                                    <button 
                                        type="button"
                                        onClick={handleCopy}
                                        className={`flex items-center gap-2 px-8 py-4 rounded-full font-bold text-lg shadow-xl transition-all transform hover:-translate-y-1 active:scale-95 ${copied ? 'bg-green-500 text-white' : 'bg-gray-900 text-white hover:bg-black'}`}
                                    >
                                        {copied ? 'âœ… ë³µì‚¬ ì™„ë£Œ!' : 'ğŸ“‹ ì´ë¯¸ì§€ í¬í•¨ ì „ì²´ ë³µì‚¬í•˜ê¸°'}
                                    </button>
                                </div>
                            </div>
                        );
                    default:
                        return null;
                }
            };

            return (
                <div className="min-h-screen flex flex-col">
                    <header className="bg-white border-b border-gray-200 p-4 sticky top-0 z-10 shadow-sm">
                        <div className="max-w-4xl mx-auto flex items-center justify-between">
                            <div className="flex items-center gap-2 text-blue-600 font-bold">
                                <span>âœ¨ Growth Project</span>
                            </div>
                            {step >= 1 && step <= 5 && (
                                <div className="flex items-center gap-2 text-sm text-gray-500 font-medium bg-gray-100 px-3 py-1 rounded-full">
                                    <span>Step {step}</span>
                                    <span className="text-gray-300">/</span>
                                    <span>5</span>
                                </div>
                            )}
                        </div>
                    </header>

                    {step >= 1 && step <= 5 && (
                        <div className="w-full h-1.5 bg-gray-200 sticky top-[61px] z-10">
                            <div 
                                className="h-full bg-blue-500 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]"
                                style={{ width: `${(step / 5) * 100}%` }}
                            ></div>
                        </div>
                    )}

                    <main className="flex-1 w-full max-w-4xl mx-auto flex flex-col p-4 md:p-6 pb-12">
                        {renderContent()}
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
